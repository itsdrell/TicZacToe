#pragma once
#include "../States/AppState.hpp"
#include "Score.hpp"
#include <vector>
#include "Engine/Core/Tools/StopWatch.hpp"

//===============================================================================================
// Forward Declare
//===============================================================================================
class ParticleSystem;

//===============================================================================================
// Type Defs + Defines
//===============================================================================================


//===============================================================================================
// ENUMS
//===============================================================================================


//===============================================================================================
// Structs
//===============================================================================================


//===============================================================================================
// Classes
//===============================================================================================
class GameOverScreen : IAppState
{
public:
	GameOverScreen();
	~GameOverScreen();

public:
	virtual void Update(float ds = 0.f) override;
	virtual void Render() const override;

public:
	virtual void OnEnter();
	virtual void OnExit();

private:
	void FindPlayerScore();
	void GenerateTopTenNames();
	std::string GetNameFromScore(const Score& score, int place) const;

private:
	std::vector<Score>			m_allScores;
	std::vector<std::string>	m_topTenNames;

	StopWatch					m_displayTimer;

	Score						m_playerScore;
	int							m_playerPlace = 0;

};

//===============================================================================================
// Standalone C Functions
//===============================================================================================


//===============================================================================================
// Externs
//===============================================================================================


//===============================================================================================
// Written by Zachary Bracken : [5/2/2021]
//===============================================================================================