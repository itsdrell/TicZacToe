#pragma once
#include "Board.hpp"
#include "Engine/Math/Vectors/Vector2.hpp"
#include "Engine/Renderer/Images/Sprite.hpp"
#include "Engine/Core/Tools/StopWatch.hpp"

//===============================================================================================
// Forward Declare
//===============================================================================================


//===============================================================================================
// Type Defs + Defines
//===============================================================================================


//===============================================================================================
// ENUMS
//===============================================================================================


//===============================================================================================
// Structs
//===============================================================================================


//===============================================================================================
// Classes
//===============================================================================================
class Particle
{
public:
	Particle();

public:
	void Update(float ds);
	void Render() const;

public:
	BOARD_SYMBOL	m_symbol;
	Vector2			m_postion;
	float			m_rotation;

	float			m_dropSpeed;
	float			m_rotationSpeed;

	Sprite			m_sprite;

	bool			m_isDead = false;
};


class ParticleSystem
{
public:
	ParticleSystem();

public:
	void Update(float ds);
	void Render() const;

	void Reset();

private:
	std::vector<Particle>	m_allParticles;

	StopWatch		m_particleSpawnTimer;
	Vector2			m_spawnRates;
};

//===============================================================================================
// Standalone C Functions
//===============================================================================================


//===============================================================================================
// Externs
//===============================================================================================


//===============================================================================================
// Written by Zachary Bracken : [5/2/2021]
//===============================================================================================